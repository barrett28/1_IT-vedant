{% extends "core/base.html" %} {% block content %}

<div class="changepass">
  <div class="changepass__container">
    <div class="changepass__header">
      <div class="changepass__icon">
        <i class="fas fa-lock"></i>
      </div>
      <h2 class="changepass__title">Change Password</h2>
      <p class="changepass__subtitle">
        Create a strong password for your account
      </p>
    </div>

    {% if messages %}
    <!---->
    {% for message in messages %}
    <div class="changepass__message">
      <i class="fas fa-check-circle"></i>
      <p>{{ message }}</p>
    </div>
    {% endfor %}
    <!---->
    {% endif %}

    <div class="changepass__form-wrapper">
      <form method="POST" class="changepass__form">
        {% csrf_token %}
        <!---->
        {% for field in mf %}
        <div class="changepass__form-group">
          <label class="changepass__label">{{ field.label }}</label>
          <div class="changepass__field">
            {{ field }}
            <i class="fas fa-eye-slash password-toggle"></i>
          </div>
          {% if field.errors %}
          <div class="changepass__error">
            {% for error in field.errors %}
            <p class="changepass__error-text">
              <i class="fas fa-exclamation-circle"></i>
              {{ error }}
            </p>
            {% endfor %}
          </div>
          {% endif %}
        </div>
        {% endfor %}
        <!---->
        <div class="changepass__actions">
          <button type="submit" class="changepass__submit-btn">
            <i class="fas fa-key"></i>
            Update Password
          </button>
          <a href="{% url 'profile' %}" class="changepass__back-btn">
            <i class="fas fa-arrow-left"></i>
            Back to Profile
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock content %}
